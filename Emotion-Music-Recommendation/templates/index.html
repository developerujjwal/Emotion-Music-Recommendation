<!DOCTYPE html>
<html>
<head>
  <style>
     img {
      padding: 20px;
      display: inline-block;
      margin: auto;
      width: 85%;
    }
    
    video {
      position: fixed;
      top: 0;
      left: 0;
      min-width: 100%;
      min-height: 100%;
      z-index: -1; 
    }

    
    .content {
      position: relative;
      z-index: 1; 
      padding: 20px;
      color: #fff;
      font-family: Arial, sans-serif;
    }
  </style>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous" />
<link href="https://fonts.googleapis.com/css2?family=Bigelow+Rules&display=swap" rel="stylesheet">
<link type="text/css" href="{{ url_for('static', filename='/css/style.css') }}" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
  crossorigin="anonymous"></script>
</head>
<body>
  <video autoplay loop muted>
    <source src="/static/stage.mp4" type="video/mp4">
    
  </video>

  <div class="content">
    
    <div id="body">

      <div>
  <br>
  <br>

        <h1 align="center" style="color: #ffffff;
      margin: 40px;background-color: white; background-color: rgba(164, 159, 159, 0.1)">
          Discovering Music through Your Emotions 
        </h1>
  
      </div>
  
      <div style="
          width: 50%;
          float: left;
          height: 100%%;
        
          margin: auto;
          padding-bottom:25px;
          text-align: center;
        ">
  
      <h2 align="center" style="color: #ffffff;background-color: white; background-color: rgba(164, 159, 159, 0.5);">Your Emotion
      </h2>
  
      <div style="
          margin: 10px;
          text-align: center;
          width: 49%%;
        "> 
      
        <img class ="outer-shadow" id="bg" class="center img-fluid" src="{{ url_for('video_feed') }}" />
    
      </div>
  
      </div>
      
      <div style="
          width: 50%;
          float: left;
          height: 100%%;
          margin: auto;
          text-align: center;
        ">
  
          <h2 align="center" style="color: #e3e3e3; background-color: white; background-color: rgba(255, 255, 255, 0.5);">Your music is here. Now, enjoy your tunes!
          </h2>
        
       </div>
  
      <div class ="outer-shadow" id="ResultArea" style="
          padding: 15px;
          width: 49%;
          float: left;
          height: 100%%;
          margin: auto;
          text-align: center;
          margin-bottom:15px;
        ">
      </div>
  
    </div>
  </div>
  
</body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type=text/javascript>


    setInterval(function() {
        $.getJSON('/t', function(data) {
            CreateHtmlTable(data);
            console.log(data,"DATA");
          });
        return false;
    }, 100);

    function CreateHtmlTable(data) {
     
      $("#ResultArea").html("");
     
      var table = $("<table class = 'table table-striped table-light table-bordered table-hover table-sm table-responsive' id=DynamicTable></table>").appendTo("#ResultArea");
 
      var rowHeader = 
      $("<tr></tr>").appendTo(table);
      $("<td></td>").text("Name").appendTo(rowHeader);
      $("<td></td").text("Album").appendTo(rowHeader);
      $("<td></td>").text("Artist").appendTo(rowHeader)
     
      $.each(data, function (i, value) {

          
          var row = 
          $("<tr></tr>").appendTo(table);
          $("<td></td>").text(value.Name).appendTo(row);
          $("<td></td>").text(value.Album).appendTo(row);
          $("<td></td>").text(value.Artist).appendTo(row);
      });
    }

  </script>
</html>
